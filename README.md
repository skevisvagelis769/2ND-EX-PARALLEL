==========TEKΜΗΡΙΩΣΗ ΑΣΚΗΣΗΣ 2 ΕΡΓΑΣΤΗΡΙΟΥ ΠΑΡΑΛΛΗΛΟΥ ΥΠΟΛΟΓΙΣΜΟΥ================


Στη συνέχεια, για το ερώτημα I (και μόνο για αυτό), περιγράψτε αναλυτικά (α) πώς θα μπορούσατε να
επεκτείνετε την υλοποίησή σας έτσι ώστε να συμπεριφέρεται σωστά για οποιοδήποτε συνδυασμό 'N'
και 'p', και (β) πως θα μπορούσατε να βρείτε το μέγιστο σε τιμή στοιχείο του πίνακα αποτελέσματος,
καθώς και σε ποια θέση (γραμμή και στήλη του πίνακα) βρίσκεται. Περιγράψτε τέλος επίσης, για το
ερώτημα IV, πως θα μπορούσατε να επεκτείνετε την υλοποίησή σας για οποιοδήποτε ‘Ν’ ακέραιο
πολλαπλάσιο του 'p' (Ν%p=0).

α) Για να είναι δυνατή η υλοποίηση για οποιαδήποτε p και Ν, θα πρέπει να γίνεται κατανομή των στοιχείων
με παρόμοιο τρόπο που είχαμε δει στην εργασία 1. Ειδικότερα θα πρέπει να δίνουμε σε μερικούς επεξεργαστές παραπάνω 
ή λιγότερα στοιχεία.Αυτό μπορεί να γίνει, ευκολότερα σε σχέση με την εργασία 1, με την χρήση της MPI_Scatterv, η οποία
θα χωρίσει τα στοιχεία σε Ν/p μέρη, με τους αρχικούς Ν mod p επεξεργαστές να λαμβάνουν ένα επιπλέον στοιχείο.

β) 
Για την εύρεση του μέγιστου στοιχείου, κάθε επεξεργαστής θα υπολογίζει ανάμεσα στα στοιχεία που έλαβε από την 
MPI_Scatterv το τοπικό μέγιστο.Έπειτα σε έναν πίνακα τριών στοιχείων έστω local_pos[3], θα αποθηκεύεται η τιμή και 
θέση του μέγιστου στοιχείου, έστω local_pos[0]=25 και local_pos[1]=2, local_pos[2]=3, άρα η θέση του θα είναι i=2,j=3
και η τιμή του είναι 25.Έπειτα,με την MPI_Reduce  και τελεστή MPI_MAXLOC, θα υπολογίζεται το τελικό μέγιστο καθώς 
και η θέση του ανάμεσα στα τοπικά μέγιστα όλων των  επεξεργαστών. Αυτό είναι εφικτό διότι ο τελεστής MPI_MAXLOC 
βρίσκει το μέγιστο στοιχείο μαζί με δεδομένα που συσχετίζονται με τον πίνακα αυτόν. 
(https://rookiehpc.org/mpi/docs/mpi_maxloc/index.html)

Για την επέκταση του ερωτήματος IV, για να είναι δυνατός ο υπολογισμός του αποτελέσματος για οποιαδήποτε ‘Ν’ ακέραιο
πολλαπλάσιο του 'p', μπορούμε να χωρίσουμε τους πίνακες σε N/p γραμμές σε κάθε επεξεργαστή αντί για μία γραμμή.Ο C και 
ο D μπορεί να χωριστεί σε N/p κομμάτια με την χρήση της MPI_Scatter (αφού ο p διαιρεί ακριβώς το N) και διατηρόντας την 
τοπολογία του δακτυλίου χωρίς αλλαγές.


============================ ΕΝΔΕΙΚΤΙΚΑ ΤΡΕΞΙΜΑΤΑ ========================
Για κάθε ερώτημα (Ι .. ΙV) παρέχονται .txt αρχεία με δοκιμαστικές τιμές για εκτέλεση.Οι πρώτες 2 τιμές είναι με τη σειρά:
η επιλογή τύπου υπολογισμού (Ι..ΙV) και ο αριθμός Ν. Η τελευταία τιμή είναι πάντα το 5 για τον τερματισμό του προγράμματος
Για την εκτέλεση:
mpicc PAR_LAB_ASK2_SKEVIS_23390055.c -o ask 
mpiexec -n 4 ./ask < I.txt 

I)
To I.txt περιέχει 32 (4*4*2) τιμές των οποίων το σύνολο είναι ίσο με 528. Εξετάζει το πρώτο ερώτημα για p=4 και Ν=4, λειτουργέι
επίσης και για p=2 ή p=1, για περισσότερους επεξεργαστές αντιμετώπισα προβλήματα λόγω περιορισμού των πόρων που έχω στη 
διάθεσή μου.

II) 
Oμοίως το ΙΙ.txt περιέχει 4*4 + 4 = 20 τιμές των οποίων το γινόμενο είναι ίσο με 481772602344000 , ή σε μορφή πίνακα 
[8310,3490,9460,1756]

ΙΙΙ)
Περιέχει 8 τιμές των οποίων το γινόμενο είναι 8310

IV)
Περιέχει 32 τιμές. Χρειάζεται να εκτελεστεί με -n 4 διότι πρέπει Ν=4=p. Το αποτέλεσμα θα είναι ο πίνακας

8310	13514	23339	6499
3490	7403	35941	3609
9460	17403	79605	8886
1756	4127	35357	2691

Το πρόγραμμα γράφτηκε σε Ubuntu.

- Ευάγγελος Σκεύης 23390055 τμήμα Ε6 (Τετάρτη 11-1μμ)
